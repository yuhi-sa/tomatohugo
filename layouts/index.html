{{ define "main" }}
<div class="container mt-4">
  <section itemscope itemtype="https://schema.org/Blog">
    <header class="page-header text-center">
      <h1 itemprop="name">Latest Articles</h1>
      {{ if .Content }}
      <div class="page-description lead" itemprop="description">
        {{ .Content }}
      </div>
      {{ end }}
    </header>

    <div class="articles-grid" role="main" aria-label="Latest articles">
      <div class="row justify-content-center">
        {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
        {{ range $paginator.Pages }}
        <div class="col-md-6 col-lg-4 mb-4 d-flex">
          {{/* Call the reusable article card partial */}}
          {{ partial "article-card.html" . }}
        </div>
        {{ end }}
      </div>
    </div>

    {{ if gt .Paginator.TotalPages 1 }}
    <nav aria-label="Blog pagination" class="mt-5 d-flex justify-content-center">
      {{ template "_internal/pagination.html" . }}
    </nav>
    {{ end }}
  </section>
</div>
{{ end }}